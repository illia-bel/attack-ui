<template>
  <q-dialog v-model="dialogModel">
    <q-card>
      <q-card-section>
        <div class="text-h6">üî• –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–º–æ—á—å –ø—Ä–æ–µ–∫—Ç—É</div>
      </q-card-section>

      <q-card-section class="q-pt-none">
        –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–≤—Å–µ–º –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–º–µ—Ç—å –ø–∏—Å–∞—Ç—å –∫–æ–¥. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –ª—é–±—É—é —Å—É–º–º—É —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
        –ø–µ—Ä–µ–π–¥—è –ø–æ —Å—Å—ã–ª–∫–µ
        <router-link :to="{ name: 'DonatePage' }" class="text-primary" v-close-popup>war.apexi.tech/donate</router-link>
        –∏–ª–∏ –Ω–∞–∂–∞—Ç—å –∫–ø–æ–ø–∫—É "–ü–æ–º–æ—á—å –ø—Ä–æ–µ–∫—Ç—É"
      </q-card-section>

      <q-card-actions align="right">
        <q-btn @click="refuseToDonate" flat label="–û—Ç–∫–∞–∑–∞—Ç—å—Å—è" color="grey" v-close-popup no-caps />
        <q-btn :to="{ name: 'DonatePage' }" flat label="üöÄ –ü–æ–º–æ—á—å –ø—Ä–æ–µ–∫—Ç—É" color="primary" v-close-popup />
      </q-card-actions>
    </q-card>
  </q-dialog>
</template>

<script setup>
import { ref } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()
const dialogModel = ref(false)

const refuseToDonate = () => {
  setTimeout(() => {
    if (route.name === 'DonatePage') return
    dialogModel.value = true
  }, 60 * 1000)
}

setTimeout(() => {
  if (route.name === 'DonatePage') return
  dialogModel.value = true
}, 3000)
</script>

<style lang="scss" scoped></style>
